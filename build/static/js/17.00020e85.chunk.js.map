{"version":3,"sources":["constants/api.js","app/movimientos/List.js"],"names":["AXIOS_CONF_PUBLIC","baseURL","localStorage","getItem","instance","axios","create","List","useState","movimientos","setMovimientos","getMovimientos","a","get","data","console","log","error","useEffect","className","map","movimiento","key","id","attributes","cliente","primer_nombre","segundo_nombre","producto","nombre","cantidad","valor","metodo_pago","to"],"mappings":"mIAAA,kCAAO,IAEMA,EAAoB,CAC/BC,QAH0B,8BAUOC,aAAaC,QAAQ,kB,kICLlDC,EAAWC,IAAMC,OAAON,KAkEfO,UAhEF,WAAO,IAAD,EACqBC,mBAAS,GAD9B,mBACVC,EADU,KACGC,EADH,KAGXC,EAAc,uCAAG,8BAAAC,EAAA,+EAEIR,EAASS,IAAT,2BAFJ,gBAEXC,EAFW,EAEXA,KAGRJ,EAAeI,EAAKA,MACpBC,QAAQC,IAAIF,EAAKA,MANE,gDAQnBC,QAAQE,MAAR,MARmB,yDAAH,qDAgBpB,OAJAC,qBAAU,WACRP,MACC,IAGD,yBAAKQ,UAAU,mCACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,aACb,wBAAIA,UAAU,cAAd,uBACA,yBAAKA,UAAU,oBACb,2BAAOA,UAAU,qBACf,+BACE,4BACE,uCACA,wCACA,wCACA,qCACA,8CACA,0CAGJ,+BACGV,GACCA,EAAYW,KAAI,SAACC,GAAD,OACd,wBAAIC,IAAKD,EAAWE,IACpB,4BAAKF,EAAWG,WAAWC,QAAQX,KAAKU,WAAWE,cAAc,IAAIL,EAAWG,WAAWC,QAAQX,KAAKU,WAAWG,gBACnH,4BAAKN,EAAWG,WAAWI,SAASd,KAAKU,WAAWK,QACpD,4BAAKR,EAAWG,WAAWM,UAC3B,4BAAKT,EAAWG,WAAWI,SAASd,KAAKU,WAAWO,OAClD,4BAAKV,EAAWG,WAAWQ,aAC3B,4BACE,kBAAC,IAAD,CACEC,GAAE,uBAAkBZ,EAAWE,IAC/BJ,UAAU,mCAFZ","file":"static/js/17.00020e85.chunk.js","sourcesContent":["export const API_BASE_URL = \"http://localhost:1337/api/\"; //\"https://dreamfactory.technisupport.com/api/v2\";\r\n\r\nexport const AXIOS_CONF_PUBLIC = {\r\n  baseURL: API_BASE_URL\r\n};\r\n\r\n\r\nexport const AXIOS_CONF = {\r\n    baseURL: API_BASE_URL,\r\n    headers: {\r\n      \"Authorization\": \"Bearer \" + localStorage.getItem(\"session_token\"),\r\n    },\r\n};\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { AXIOS_CONF_PUBLIC } from \"../../constants/api\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst instance = axios.create(AXIOS_CONF_PUBLIC);\r\n\r\nconst List = () => {\r\n  const [movimientos, setMovimientos] = useState(0);\r\n\r\n  const getMovimientos = async () => {\r\n    try {\r\n      const { data } = await instance.get(\r\n        `/movimientos?populate=*`\r\n      );\r\n      setMovimientos(data.data);\r\n      console.log(data.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMovimientos();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"col-12 grid-margin stretch-card\">\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <h4 className=\"card-title\">Listado movimientos</h4>\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-hover\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Usuario</th>\r\n                  <th>Producto</th>\r\n                  <th>Cantidad</th>\r\n                  <th>Valor</th>\r\n                  <th>Metodo de pago</th>\r\n                  <th>Opciones</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {movimientos &&\r\n                  movimientos.map((movimiento) => (\r\n                    <tr key={movimiento.id}>\r\n                    <td>{movimiento.attributes.cliente.data.attributes.primer_nombre+\" \"+movimiento.attributes.cliente.data.attributes.segundo_nombre}</td>\r\n                    <td>{movimiento.attributes.producto.data.attributes.nombre}</td>\r\n                    <td>{movimiento.attributes.cantidad}</td>\r\n                    <td>{movimiento.attributes.producto.data.attributes.valor}</td>\r\n                      <td>{movimiento.attributes.metodo_pago}</td>\r\n                      <td>\r\n                        <Link\r\n                          to={`/movimientos/${movimiento.id}`}\r\n                          className=\"btn btn-gradient-primary btn-fw\"\r\n                        >\r\n                          Editar\r\n                        </Link>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default List;\r\n"],"sourceRoot":""}