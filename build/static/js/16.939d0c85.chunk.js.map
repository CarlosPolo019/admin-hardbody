{"version":3,"sources":["constants/api.js","app/clientes/List.js"],"names":["AXIOS_CONF_PUBLIC","baseURL","localStorage","getItem","instance","axios","create","List","useState","clientes","setClientes","getClientes","a","get","data","console","log","error","useEffect","className","map","cliente","key","id","attributes","primer_nombre","telefono","correo","moment","fecha_nacimiento","format","to"],"mappings":"mIAAA,kCAAO,IAEMA,EAAoB,CAC/BC,QAH0B,8BAUOC,aAAaC,QAAQ,kB,oJCJlDC,EAAWC,IAAMC,OAAON,KAiEfO,UA/DF,WAAO,IAAD,EACeC,mBAAS,GADxB,mBACVC,EADU,KACAC,EADA,KAGXC,EAAW,uCAAG,8BAAAC,EAAA,+EAEOR,EAASS,IAAT,gDAFP,gBAERC,EAFQ,EAERA,KACRJ,EAAYI,EAAKA,MACjBC,QAAQC,IAAIF,EAAKA,MAJD,gDAMhBC,QAAQE,MAAR,MANgB,yDAAH,qDAejB,OAJAC,qBAAU,WACRP,MACC,IAGD,yBAAKQ,UAAU,mCACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,aACb,wBAAIA,UAAU,cAAd,oBACA,yBAAKA,UAAU,oBACb,2BAAOA,UAAU,qBACf,+BACE,4BACE,sCACA,wCACA,sCACA,mDACA,0CAGJ,+BACGV,GACCA,EAASW,KAAI,SAACC,GAAD,OACX,wBAAIC,IAAKD,EAAQE,IACf,4BAAKF,EAAQG,WAAWC,eACxB,4BAAKJ,EAAQG,WAAWE,UACxB,4BAAKL,EAAQG,WAAWG,QACxB,4BACGC,IACCP,EAAQG,WAAWK,iBACnB,WACAC,OAAO,YAEX,4BAEA,kBAAC,IAAD,CAAMC,GAAE,mBAAcV,EAAQE,IAAMJ,UAAU,mCAA9C","file":"static/js/16.939d0c85.chunk.js","sourcesContent":["export const API_BASE_URL = \"http://localhost:1337/api/\"; //\"https://dreamfactory.technisupport.com/api/v2\";\r\n\r\nexport const AXIOS_CONF_PUBLIC = {\r\n  baseURL: API_BASE_URL\r\n};\r\n\r\n\r\nexport const AXIOS_CONF = {\r\n    baseURL: API_BASE_URL,\r\n    headers: {\r\n      \"Authorization\": \"Bearer \" + localStorage.getItem(\"session_token\"),\r\n    },\r\n};\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { AXIOS_CONF_PUBLIC } from \"../../constants/api\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport moment from \"moment\";\r\nconst instance = axios.create(AXIOS_CONF_PUBLIC);\r\n\r\nconst List = () => {\r\n  const [clientes, setClientes] = useState(0);\r\n\r\n  const getClientes = async () => {\r\n    try {\r\n      const { data } = await instance.get(`/clientes?filters[$and][0][estado][$eq]=true`);\r\n      setClientes(data.data);\r\n      console.log(data.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    getClientes();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"col-12 grid-margin stretch-card\">\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <h4 className=\"card-title\">Listado clientes</h4>\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-hover\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Nombre</th>\r\n                  <th>Telefono</th>\r\n                  <th>Correo</th>\r\n                  <th>Fecha de nacimiento</th>\r\n                  <th>Opciones</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {clientes &&\r\n                  clientes.map((cliente) => (\r\n                    <tr key={cliente.id}>\r\n                      <td>{cliente.attributes.primer_nombre}</td>\r\n                      <td>{cliente.attributes.telefono}</td>\r\n                      <td>{cliente.attributes.correo}</td>\r\n                      <td>\r\n                        {moment(\r\n                          cliente.attributes.fecha_nacimiento,\r\n                          \"Y-MM-DD\"\r\n                        ).format(\"DD/MM/Y\")}\r\n                      </td>\r\n                      <td>\r\n\r\n                      <Link to={`/cliente/${cliente.id}`} className=\"btn btn-gradient-primary btn-fw\">Editar</Link>\r\n                      \r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default List;\r\n"],"sourceRoot":""}